{"version":3,"sources":["../src/Particle.js"],"names":[],"mappings":"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","file":"Particle.js","sourcesContent":["import request from 'superagent';\nimport binaryParser from './superagent-binary-parser';\nimport Defaults from './Defaults';\nimport EventStream from './EventStream';\nimport Agent from './Agent';\nimport Client from './Client';\n\n/**\n * Particle Cloud API wrapper.\n *\n * See <https://docs.particle.io/reference/javascript/> for examples\n * of using the `Particle` class.\n *\n * Most Particle methods take a single unnamed argument object documented as\n * `$0` with key/value pairs for each option.\n */\nclass Particle {\n\t/**\n\t * Contructor for the Cloud API wrapper.\n\t *\n\t * Create a new Particle object and call methods below on it.\n\t *\n\t * @param  {Object} options Options to be used for all requests (see [Defaults](../src/Defaults.js))\n\t */\n\tconstructor(options = {}) {\n\t\tObject.assign(this, Defaults, options);\n\t\tthis.agent = new Agent(this.baseUrl);\n\t}\n\n\t/**\n\t * Login to Particle Cloud using an existing Particle acccount.\n\t * @param  {String} $0.username      Username for the Particle account\n\t * @param  {String} $0.password      Password for the Particle account\n\t * @param  {Number} $0.tokenDuration How long the access token should last in seconds\n\t * @return {Promise}\n\t */\n\tlogin({ username, password, tokenDuration = this.tokenDuration }) {\n\t\treturn this.request({ uri: '/oauth/token', form: {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tgrant_type: 'password',\n\t\t\tclient_id: this.clientId,\n\t\t\tclient_secret: this.clientSecret,\n\t\t\texpires_in: tokenDuration,\n\t\t}, method: 'post' });\n\t}\n\n\t/**\n\t * Create a user account for the Particle Cloud\n\t * @param  {String} $0.username Email of the new user\n\t * @param  {String} $0.password Password\n\t * @return {Promise}\n\t */\n\tcreateUser({ username, password }) {\n\t\treturn this.post('/v1/users', {\n\t\t\tusername, password,\n\t\t});\n\t}\n\n\t/**\n\t * Send reset password email for a Particle Cloud user account\n\t * @param  {String} $0.username Email of the user\n\t * @return {Promise}\n\t */\n\tresetPassword({ username }) {\n\t\treturn this.post('/v1/user/password-reset', { username });\n\t}\n\n\t/**\n\t * Revoke an access token\n\t * @param  {String} $0.username Username of the Particle cloud account that the token belongs to.\n\t * @param  {String} $0.password Password for the account\n\t * @param  {String} $0.token    Access token you wish to revoke\n\t * @return {Promise}\n\t */\n\tremoveAccessToken({ username, password, token }) {\n\t\treturn this.delete(`/v1/access_tokens/${token}`, {\n\t\t\taccess_token: token,\n\t\t}, { username, password });\n\t}\n\n\t/**\n\t * List all valid access tokens for a Particle Cloud account\n\t * @param  {String} $0.username Username\n\t * @param  {String} $0.password Password\n\t * @return {Promise}\n\t */\n\tlistAccessTokens({ username, password }) {\n\t\treturn this.get('/v1/access_tokens', { username, password });\n\t}\n\n\t/**\n\t * List devices claimed to the account\n\t * @param  {String} $0.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistDevices({ auth }) {\n\t\treturn this.get('/v1/devices', auth);\n\t}\n\n\t/**\n\t * Get detailed informationa about a device\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.auth     Access token\n\t * @return {Promise}\n\t */\n\tgetDevice({ deviceId, auth }) {\n\t\treturn this.get(`/v1/devices/${deviceId}`, auth);\n\t}\n\n\t/**\n\t * Claim a device to the account. The device must be online and unclaimed.\n\t * @param  {String} $0.deviceId Device ID\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tclaimDevice({ deviceId, requestTransfer, auth }) {\n\t\treturn this.post('/v1/devices', {\n\t\t\tid: deviceId,\n\t\t\trequest_transfer: !!requestTransfer\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Unclaim / Remove a device from your account\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tremoveDevice({ deviceId, auth }) {\n\t\treturn this.delete(`/v1/devices/${deviceId}`, null, auth);\n\t}\n\n\t/**\n\t * Rename a device\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.name     Desired Name\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\trenameDevice({ deviceId, name, auth }) {\n\t\treturn this.put(`/v1/devices/${deviceId}`, { name }, auth);\n\t}\n\n\t/**\n\t * Generate a claim code to use in the device claiming process.\n\t * @param  {String} $0.auth  Access Token\n\t * @param  {String} [$0.iccid] ICCID of the SIM card used in the Electron\n\t * @return {Promise}\n\t */\n\tgetClaimCode({ auth, iccid = undefined }) {\n\t\treturn this.post('/v1/device_claims', { iccid }, auth);\n\t}\n\n\tvalidatePromoCode({auth, promoCode}) {\n\t\treturn this.get(`/v1/promo_code/${promoCode}`, auth);\n\t}\n\n\tchangeProduct({ deviceId, productId, shouldUpdate, auth }) {\n\t\treturn this.put(`/v1/devices/${deviceId}`, {\n\t\t\tproduct_id: productId,\n\t\t\tupdate_after_claim: shouldUpdate || false,\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Get the value of a device variable\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.name     Variable name\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tgetVariable({ deviceId, name, auth }) {\n\t\treturn this.get(`/v1/devices/${deviceId}/${name}`, auth);\n\t}\n\n\t/**\n\t * Instruct the device to turn on/off the LED in a rainbow pattern\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {Boolean} $0.signal   Signal on or off\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tsignalDevice({ deviceId, signal, auth }) {\n\t\treturn this.put(`/v1/devices/${deviceId}`, {\n\t\t\tsignal: ( !!signal ? '1' : '0' ),\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Compile and flash application firmware to a device\n\t * @param  {String} $0.deviceId      Device ID or Name\n\t * @param  {Object} $0.files         Object containing files to be compiled. Keys should be the filenames, and the values should be a path or Buffer of the file contents.\n\t * @param  {String} [$0.targetVersion=latest] System firmware version to compile against\n\t * @param  {String} $0.auth          String\n\t * @return {Promise}\n\t */\n\tflashDevice({ deviceId, files, targetVersion, auth }) {\n\t\tconst form = {};\n\t\tif (targetVersion) {\n\t\t\tform.build_target_version = targetVersion;\n\t\t} else {\n\t\t\tform.latest = 'true';\n\t\t}\n\t\treturn this.request({ uri: `/v1/devices/${deviceId}`,\n\t\t\tfiles, auth, form, method: 'put' });\n\t}\n\n\t/**\n\t * Flash the Tinker application to a device\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tflashTinker({ deviceId, auth }) {\n\t\treturn this.put(`/v1/devices/${deviceId}`, {\n\t\t\tapp: 'tinker',\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Compile firmware using the Particle Cloud\n\t * @param  {Object} $0.files         Object containing files to be compiled. Keys should be the filenames, and the values should be a path or Buffer of the file contents.\n\t * @param  {Number} [$0.platformId]    Platform id number of the device you are compiling for. Common values are 0=Core, 6=Photon, 10=Electron.\n\t * @param  {String} [$0.targetVersion=latest] System firmware version to compile against\n\t * @param  {String} $0.auth          Access Token\n\t * @return {Promise}\n\t */\n\tcompileCode({ files, platformId, targetVersion, auth }) {\n\t\tconst form = { platform_id: platformId };\n\t\tif (targetVersion) {\n\t\t\tform.build_target_version = targetVersion;\n\t\t} else {\n\t\t\tform.latest = 'true';\n\t\t}\n\t\treturn this.request({ uri: '/v1/binaries',\n\t\t\tfiles, auth, form, method: 'post' });\n\t}\n\n\t/**\n\t * Download a firmware binary\n\t * @param  {String} $0.binaryId Binary ID received from a successful compile call\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Request}\n\t */\n\tdownloadFirmwareBinary({ binaryId, auth }) {\n\t\tconst uri = `/v1/binaries/${binaryId}`;\n\t\tconst req = request('get', uri);\n\t\treq.use(this.prefix);\n\t\tthis.headers(req, auth);\n\t\tif (this.debug) {\n\t\t\tthis.debug(req);\n\t\t}\n\t\treturn req;\n\t}\n\n\t/**\n\t * Send a new device public key to the Particle Cloud\n\t * @param  {String} $0.deviceId  Device ID or Name\n\t * @param  {(String|Buffer)} $0.key       Public key contents\n\t * @param  {String} [$0.algorithm=rsa] Algorithm used to generate the public key. Valid values are `rsa` or `ecc`.\n\t * @param  {String} $0.auth      Access Token\n\t * @return {Promise}\n\t */\n\tsendPublicKey({ deviceId, key, algorithm, auth }) {\n\t\treturn this.post(`/v1/provisioning/${deviceId}`, {\n\t\t\tdeviceID: deviceId,\n\t\t\tpublicKey: ( typeof key === 'string' ? key : key.toString() ),\n\t\t\tfilename: 'particle-api',\n\t\t\torder: `manual_${ Date.now() }`,\n\t\t\talgorithm: algorithm || 'rsa'\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Call a device function\n\t * @param  {String} $0.deviceId Device ID or Name\n\t * @param  {String} $0.name     Function name\n\t * @param  {String} $0.argument Function argument\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise}\n\t */\n\tcallFunction({ deviceId, name, argument, auth }) {\n\t\treturn this.post(`/v1/devices/${deviceId}/${name}`, {\n\t\t\targs: argument,\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Get a stream of events\n\t * @param  {String} [$0.deviceId] Device ID or Name, or `mine` to indicate only your devices.\n\t * @param  {String} [$0.name]     Event Name\n\t * @param  {String} [$0.org]     Organization Slug\n\t * @param  {String} [$0.product]     Product Slug or Product ID\n\t * @param  {String} $0.auth     Access Token\n\t * @return {Promise} If the promise resolves, the resolution value will be an EventStream object that will\n\t * emit 'event' events, as well as the specific named event.\n\t */\n\tgetEventStream({ deviceId, name, org, product, auth }) {\n\t\tlet uri = '/v1/';\n\t\tif (org) {\n\t\t\turi += `orgs/${org}/`;\n\t\t}\n\n\t\tif (product) {\n\t\t\turi += `products/${product}/`;\n\t\t}\n\n\t\tif (deviceId) {\n\t\t\turi += 'devices/';\n\t\t\tif (!(deviceId.toLowerCase() === 'mine')) {\n\t\t\t\turi += `${deviceId}/`;\n\t\t\t}\n\t\t}\n\n\t\turi += 'events';\n\n\t\tif (name) {\n\t\t\turi += `/${encodeURIComponent(name)}`;\n\t\t}\n\n\t\treturn new EventStream(`${this.baseUrl}${uri}`, auth, { debug: this.debug }).connect();\n\t}\n\n\t/**\n\t * Publish a event to the Particle Cloud\n\t * @param  {String} $0.name      Event name\n\t * @param  {String} $0.data      Event data\n\t * @param  {Boolean} $0.isPrivate Should the event be publicly available?\n\t * @param  {String} $0.auth      Access Token\n\t * @return {Promise}\n\t */\n\tpublishEvent({ name, data, isPrivate, auth }) {\n\t\treturn this.post('/v1/devices/events', {\n\t\t\tname,\n\t\t\tdata,\n\t\t\t'private': isPrivate\n\t\t}, auth);\n\t}\n\n\t/**\n\t * Create a webhook\n\t * @param  {String} $0.deviceId           Device ID or Name\n\t * @param  {String} $0.name               Webhook name\n\t * @param  {String} $0.url                URL the webhook should hit\n\t * @param  {String} [$0.requestType=POST]        HTTP method to use\n\t * @param  {Object} [$0.headers]            Additional headers to add to the webhook\n\t * @param  {Object} [$0.json]               JSON data\n\t * @param  {Object} [$0.query]              Query string data\n\t * @param  {Object} [$0.responseTemplate]   Webhook response template\n\t * @param  {Object} [$0.responseTopic]      Webhook response topic\n\t * @param  {Boolean} [$0.rejectUnauthorized] Reject invalid HTTPS certificates\n\t * @param  {Object} [$0.webhookAuth]        HTTP Basic Auth information\n\t * @param  {Object} [$0.form]               Form data\n\t * @param  {String} $0.auth               Access Token\n\t * @return {Promise}\n\t */\n\tcreateWebhook({ deviceId, name, url, requestType, headers, json, query, responseTemplate, responseTopic, rejectUnauthorized, webhookAuth, form, auth }) {\n\t\tconst data = { event: name, url, requestType, headers, json, query, responseTemplate, responseTopic, rejectUnauthorized, auth: webhookAuth, form };\n\t\tif (deviceId === 'mine') {\n\t\t\tdata.mydevices = true;\n\t\t} else {\n\t\t\tdata.deviceid = deviceId;\n\t\t}\n\t\treturn this.post('/v1/webhooks', data, auth);\n\t}\n\n\t/**\n\t * Delete a webhook\n\t * @param  {String} $0.hookId Webhook ID\n\t * @param  {String} $0.auth   Access Token\n\t * @return {Promise}\n\t */\n\tdeleteWebhook({ hookId, auth }) {\n\t\treturn this.delete(`/v1/webhooks/${hookId}`, null, auth);\n\t}\n\n\t/**\n\t * List all webhooks owned by the account\n\t * @param  {String} $0.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistWebhooks({ auth }) {\n\t\treturn this.get('/v1/webhooks', auth);\n\t}\n\n\t/**\n\t * Get details about the current user\n\t * @param  {String} $0.auth Access Token\n\t * @return {Promise}\n\t */\n\tgetUserInfo({ auth }) {\n\t\treturn this.get('/v1/user', auth);\n\t}\n\n\tsetUserInfo({ stripeToken, auth }) {\n\t\treturn this.put('/v1/user', {\n\t\t\tstripe_token: stripeToken,\n\t\t}, auth);\n\t}\n\n\tcheckSIM({ iccid, auth }) {\n\t\treturn this.head(`/v1/sims/${iccid}`, auth);\n\t}\n\n\tactivateSIM({ iccid, countryCode, promoCode, auth }) {\n\t\treturn this.put(`/v1/sims/${iccid}`, {\n\t\t\tcountry: countryCode,\n\t\t\tpromo_code: promoCode,\n\t\t\taction: 'activate',\n\t\t}, auth);\n\t}\n\n\t/**\n\t * List valid build targets to be used for compiling\n\t * @param  {String} $0.auth         Access Token\n\t * @param  {Boolean} [$0.onlyFeatured=false] Only list featured build targets\n\t * @return {Promise}\n\t */\n\tlistBuildTargets({ auth, onlyFeatured = undefined }) {\n\t\tlet query;\n\t\tif (onlyFeatured !== undefined) {\n\t\t\tquery = { featured: !!onlyFeatured };\n\t\t}\n\t\treturn this.get('/v1/build_targets', auth, query);\n\t}\n\n\t/**\n\t * List firmware libraries\n\t * @param  {String} $0.auth Access Token\n\t * @param  {Number} $0.page Page index (default, first page)\n\t * @param  {Number} $0.limit Number of items per page\n\t * @param  {String} $0.filter Search term for the libraries\n\t * @param  {String} $0.sort Ordering key for the library list\n\t * @param  {Array<String>}  $0.architectures List of architectures to filter\n\t * @param  {String} $0.category Category to filter\n\t * @return {Promise}\n\t */\n\tlistLibraries({ auth, page, limit, filter, sort, architectures, category }) {\n\t\treturn this.get('/v1/libraries', auth, {\n\t\t\tpage,\n\t\t\tfilter,\n\t\t\tlimit,\n\t\t\tsort,\n\t\t\tarchitectures: (Array.isArray(architectures) ? architectures.join(',') : architectures),\n\t\t\tcategory\n\t\t});\n\t}\n\n\t/**\n\t * Get firmware library details\n\t * @param  {String} $0.auth Access Token\n\t * @param  {String} $0.name Name of the library to fetch\n\t * @param  {String} $0.version Version of the library to fetch (default: latest)\n\t * @return {Promise}\n\t */\n\tgetLibrary({ auth, name, version }) {\n\t\treturn this.get(`/v1/libraries/${name}`, auth, { version });\n\t}\n\n\t/**\n\t * Firmware library details for each version\n\t * @param  {String} $0.auth Access Token\n\t * @param  {String} $0.name Name of the library to fetch\n\t * @param  {Number} $0.page Page index (default, first page)\n\t * @param  {Number} $0.limit Number of items per page\n\t * @return {Promise}\n\t */\n\tgetLibraryVersions({ auth, name, page, limit }) {\n\t\treturn this.get(`/v1/libraries/${name}/versions`, auth, {\n\t\t\tpage,\n\t\t\tlimit\n\t\t});\n\t}\n\n\t/**\n\t * Contribute a new library version int the compressed archive\n\t * @param  {String} $0.auth Access Token\n\t * @param  {String} $0.archive Compressed archive file containing the library sources\n\t * @return {Promise}\n\t */\n\tcontributeLibrary({ auth, archive }) {\n\t\tconst files = {\n\t\t\t'archive.tar.gz': archive\n\t\t};\n\n\t\treturn this.request({ uri: '/v1/libraries',\n\t\t\tfiles, auth, method: 'post' });\n\t}\n\n\t/**\n\t * Delete one version of a library or an entire published library\n\t * @param  {String} $0.auth Access Token\n\t * @param  {String} $0.name Name of the library to delete\n\t * @param  {String} $0.force Key to force deleting a public library\n\t * @return {Promise}\n\t */\n\tdeleteLibrary({ auth, name, force }) {\n\t\treturn this.delete(`/v1/libraries/${name}`, { force }, auth);\n\t}\n\n\t/**\n\t * Download an external file that may not be on the API\n\t * @param  {String} $0.url URL of the file.\n\t * @return {Promise} Resolves to a buffer with the file data\n\t */\n\tdownloadFile({ url }) {\n\t\tlet req = request.get(url);\n\t\tif (req.buffer) {\n\t\t\treq = req.buffer(true).parse(binaryParser);\n\t\t} else if (req.responseType) {\n\t\t\treq = req.responseType('arraybuffer').then(res => {\n\t\t\t\tres.body = res.xhr.response;\n\t\t\t\treturn res;\n\t\t\t});\n\t\t}\n\t\treturn req.then(res => res.body);\n\t}\n\n\tget(uri, auth, query = undefined) {\n\t\treturn this.agent.get(uri, auth, query);\n\t}\n\n\thead(uri, auth) {\n\t\treturn this.agent.head(uri, auth);\n\t}\n\n\tpost(uri, data, auth) {\n\t\treturn this.agent.post(uri, data, auth);\n\t}\n\n\tput(uri, data, auth) {\n\t\treturn this.agent.put(uri, data, auth);\n\t}\n\n\tdelete(uri, data, auth) {\n\t\treturn this.agent.delete(uri, data, auth);\n\t}\n\n\trequest(args) {\n\t\treturn this.agent.request(args);\n\t}\n\n\tclient(options = {}) {\n\t\treturn new Client(Object.assign({ api: this}, options));\n\t}\n}\n\nexport default Particle;\n"]}