{"version":3,"sources":["../../../../../../spark/particle-api-js/lib/Agent.js"],"names":[],"mappings":"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","file":"Agent-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ******************************************************************************\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Copyright (c) 2016 Particle Industries, Inc.  All rights reserved.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      This program is free software; you can redistribute it and/or\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      modify it under the terms of the GNU Lesser General Public\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      License as published by the Free Software Foundation, either\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      version 3 of the License, or (at your option) any later version.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      This program is distributed in the hope that it will be useful,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Lesser General Public License for more details.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      You should have received a copy of the GNU Lesser General Public\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      License along with this program; if not, see <http://www.gnu.org/licenses/>.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ******************************************************************************\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nrequire('babel-polyfill');\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _superagentPrefix = require('superagent-prefix');\n\nvar _superagentPrefix2 = _interopRequireDefault(_superagentPrefix);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Agent = function () {\n\tfunction Agent(baseUrl) {\n\t\t_classCallCheck(this, Agent);\n\n\t\tthis.prefix = (0, _superagentPrefix2.default)(baseUrl);\n\t}\n\n\t_createClass(Agent, [{\n\t\tkey: 'get',\n\t\tvalue: function get(uri, auth, query) {\n\t\t\treturn this.request({ uri: uri, auth: auth, method: 'get', query: query });\n\t\t}\n\t}, {\n\t\tkey: 'head',\n\t\tvalue: function head(uri, auth) {\n\t\t\treturn this.request({ uri: uri, auth: auth, method: 'head' });\n\t\t}\n\t}, {\n\t\tkey: 'post',\n\t\tvalue: function post(uri, data, auth) {\n\t\t\treturn this.request({ uri: uri, data: data, auth: auth, method: 'post' });\n\t\t}\n\t}, {\n\t\tkey: 'put',\n\t\tvalue: function put(uri, data, auth) {\n\t\t\treturn this.request({ uri: uri, data: data, auth: auth, method: 'put' });\n\t\t}\n\t}, {\n\t\tkey: 'delete',\n\t\tvalue: function _delete(uri, data, auth) {\n\t\t\treturn this.request({ uri: uri, data: data, auth: auth, method: 'delete' });\n\t\t}\n\n\t\t/**\n   *\n   * @param {String} uri           The URI to request\n   * @param {String} method        The method used to request the URI, should be in uppercase.\n   * @param {String} data          Arbitrary data to send as the body.\n   * @param {Object} auth          Authorization\n   * @param {String} query         Query parameters\n   * @param {Object} form          Form fields\n   * @param {Object} files         array of file names and file content\n   * @return {Promise} A promise. fulfilled with {body, statusCode}, rejected with { statusCode, errorDescription, error, body }\n   */\n\n\t}, {\n\t\tkey: 'request',\n\t\tvalue: function request(_ref) {\n\t\t\tvar uri = _ref.uri;\n\t\t\tvar method = _ref.method;\n\t\t\tvar _ref$data = _ref.data;\n\t\t\tvar data = _ref$data === undefined ? undefined : _ref$data;\n\t\t\tvar auth = _ref.auth;\n\t\t\tvar _ref$query = _ref.query;\n\t\t\tvar query = _ref$query === undefined ? undefined : _ref$query;\n\t\t\tvar _ref$form = _ref.form;\n\t\t\tvar form = _ref$form === undefined ? undefined : _ref$form;\n\t\t\tvar _ref$files = _ref.files;\n\t\t\tvar files = _ref$files === undefined ? undefined : _ref$files;\n\n\t\t\tvar requestFiles = this._sanitizeFiles(files);\n\t\t\treturn this._request({ uri: uri, method: method, data: data, auth: auth, query: query, form: form, files: requestFiles });\n\t\t}\n\n\t\t/**\n   *\n   * @param {String} uri           The URI to request\n   * @param {String} method        The method used to request the URI, should be in uppercase.\n   * @param {String} data          Arbitrary data to send as the body.\n   * @param {Object} auth          Authorization\n   * @param {String} query         Query parameters\n   * @param {Object} form          Form fields\n   * @param {Object} files         array of file names and file content\n   * @return {Promise} A promise. fulfilled with {body, statusCode}, rejected with { statusCode, errorDescription, error, body }\n   */\n\n\t}, {\n\t\tkey: '_request',\n\t\tvalue: function _request(_ref2) {\n\t\t\tvar uri = _ref2.uri;\n\t\t\tvar method = _ref2.method;\n\t\t\tvar data = _ref2.data;\n\t\t\tvar auth = _ref2.auth;\n\t\t\tvar query = _ref2.query;\n\t\t\tvar form = _ref2.form;\n\t\t\tvar files = _ref2.files;\n\n\t\t\tvar req = this._buildRequest({ uri: uri, method: method, data: data, auth: auth, query: query, form: form, files: files });\n\t\t\treturn this._promiseResponse(req);\n\t\t}\n\n\t\t/**\n   * Promises to send the request and retreive the response.\n   * @param {Request} req The request to send\n   * @returns {Promise}   The promise to send the request and retrieve the response.\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_promiseResponse',\n\t\tvalue: function _promiseResponse(req) {\n\t\t\tvar _this = this;\n\n\t\t\treturn new Promise(function (fulfill, reject) {\n\t\t\t\treturn _this._sendRequest(req, fulfill, reject);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Sends the given request, calling the fulfill or reject methods for success/failure.\n   * @param {object} request   The request to send\n   * @param {function} fulfill    Called on success with the response\n   * @param {function} reject     Called on failure with the failure reason.\n   * @private\n   * @returns {undefined} Nothing\n   */\n\n\t}, {\n\t\tkey: '_sendRequest',\n\t\tvalue: function _sendRequest(request, fulfill, reject) {\n\t\t\trequest.end(function (error, res) {\n\t\t\t\tvar body = res && res.body;\n\t\t\t\tif (error) {\n\t\t\t\t\tvar uri = request.url;\n\t\t\t\t\tvar statusCode = error.status;\n\t\t\t\t\tvar errorDescription = (statusCode ? 'HTTP error ' + statusCode : 'Network error') + ' from ' + uri;\n\t\t\t\t\tif (body && body.error_description) {\n\t\t\t\t\t\terrorDescription += ' - ' + body.error_description;\n\t\t\t\t\t}\n\t\t\t\t\treject({ statusCode: statusCode, errorDescription: errorDescription, error: error, body: body });\n\t\t\t\t} else {\n\t\t\t\t\tfulfill({\n\t\t\t\t\t\tbody: body,\n\t\t\t\t\t\tstatusCode: res.statusCode\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_buildRequest',\n\t\tvalue: function _buildRequest(_ref3) {\n\t\t\tvar uri = _ref3.uri;\n\t\t\tvar method = _ref3.method;\n\t\t\tvar data = _ref3.data;\n\t\t\tvar auth = _ref3.auth;\n\t\t\tvar query = _ref3.query;\n\t\t\tvar form = _ref3.form;\n\t\t\tvar files = _ref3.files;\n\t\t\tvar _ref3$makerequest = _ref3.makerequest;\n\t\t\tvar makerequest = _ref3$makerequest === undefined ? _superagent2.default : _ref3$makerequest;\n\n\t\t\tvar req = makerequest(method, uri);\n\t\t\tif (this.prefix) {\n\t\t\t\treq.use(this.prefix);\n\t\t\t}\n\t\t\tthis._authorizationHeader(req, auth);\n\t\t\tif (query) {\n\t\t\t\treq.query(query);\n\t\t\t}\n\t\t\tif (files) {\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = Object.entries(files)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar _step$value = _slicedToArray(_step.value, 2);\n\n\t\t\t\t\t\tvar name = _step$value[0];\n\t\t\t\t\t\tvar file = _step$value[1];\n\n\t\t\t\t\t\treq.attach(name, file.data, file.path);\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (form) {\n\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator2 = Object.entries(form)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\tvar _step2$value = _slicedToArray(_step2.value, 2);\n\n\t\t\t\t\t\t\tvar name = _step2$value[0];\n\t\t\t\t\t\t\tvar value = _step2$value[1];\n\n\t\t\t\t\t\t\treq.field(name, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (form) {\n\t\t\t\treq.type('form');\n\t\t\t\treq.send(form);\n\t\t\t} else if (data) {\n\t\t\t\treq.send(data);\n\t\t\t}\n\t\t\treturn req;\n\t\t}\n\n\t\t/**\n   * Adds an authorization header.\n   * @param {Request} req     The request to add the authorization header to.\n   * @param {object|string}  auth    The authorization. Either a string authorization bearer token,\n   *  or a username/password object.\n   * @returns {Request} req   The original request.\n   */\n\n\t}, {\n\t\tkey: '_authorizationHeader',\n\t\tvalue: function _authorizationHeader(req, auth) {\n\t\t\tif (auth) {\n\t\t\t\tif (auth.username !== undefined) {\n\t\t\t\t\treq.auth(auth.username, auth.password);\n\t\t\t\t} else {\n\t\t\t\t\treq.set({ Authorization: 'Bearer ' + auth });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn req;\n\t\t}\n\n\t\t/**\n   *\n   * @param {Array} files converts the file names to file, file1, file2.\n   * @returns {object} the renamed files.\n   */\n\n\t}, {\n\t\tkey: '_sanitizeFiles',\n\t\tvalue: function _sanitizeFiles(files) {\n\t\t\tvar requestFiles = {};\n\t\t\tif (files) {\n\t\t\t\trequestFiles = {};\n\t\t\t\tObject.keys(files).forEach(function (k, i) {\n\t\t\t\t\tvar name = i ? 'file' + (i + 1) : 'file';\n\t\t\t\t\trequestFiles[name] = {\n\t\t\t\t\t\tdata: files[k],\n\t\t\t\t\t\tpath: k\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn requestFiles;\n\t\t}\n\t}]);\n\n\treturn Agent;\n}();\n\nexports.default = Agent;\nmodule.exports = exports['default'];\n//# sourceMappingURL=Agent.js.map"]}